{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "gauge-chart",
  "type": "registry:ui",
  "description": "A gauge/speedometer chart component with customizable zones and neubrutalism styling",
  "dependencies": [
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "registry/default/ui/GaugeChart.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { cn } from '@/lib/utils'\n\nconst gaugeChartVariants = cva(\n  'relative flex items-center justify-center',\n  {\n    variants: {\n      size: {\n        sm: '',\n        md: '',\n        lg: '',\n      },\n    },\n    defaultVariants: {\n      size: 'md',\n    },\n  }\n)\n\nexport interface GaugeChartZone {\n  from: number\n  to: number\n  color: string\n  label?: string\n}\n\ntype GaugeVariants = VariantProps<typeof gaugeChartVariants>\n\ninterface GaugeChartProps {\n  value: number\n  min?: number\n  max?: number\n  zones?: GaugeChartZone[]\n  label?: string\n  valueFormatter?: (value: number) => string\n  showTicks?: boolean\n  animated?: boolean\n  size?: GaugeVariants['size']\n  class?: string\n}\n\nconst DEFAULT_ZONES: GaugeChartZone[] = [\n  { from: 0, to: 33, color: 'hsl(var(--destructive))', label: 'Low' },\n  { from: 33, to: 66, color: 'hsl(var(--warning))', label: 'Medium' },\n  { from: 66, to: 100, color: 'hsl(var(--success))', label: 'High' },\n]\n\nconst props = withDefaults(defineProps<GaugeChartProps>(), {\n  min: 0,\n  max: 100,\n  zones: () => DEFAULT_ZONES,\n  showTicks: true,\n  animated: true,\n  size: 'md',\n  valueFormatter: (v: number) => `${v}`,\n})\n\nconst normalizedValue = computed(() => Math.max(props.min, Math.min(props.max, props.value)))\nconst percentage = computed(() => ((normalizedValue.value - props.min) / (props.max - props.min)) * 100)\n\nconst sizeConfig = {\n  sm: { width: 140, height: 90, radius: 45, strokeWidth: 10, fontSize: 14, labelSize: 9 },\n  md: { width: 180, height: 115, radius: 58, strokeWidth: 12, fontSize: 18, labelSize: 11 },\n  lg: { width: 240, height: 150, radius: 76, strokeWidth: 14, fontSize: 22, labelSize: 13 },\n}\n\nconst currentSize = computed(() => props.size || 'md')\nconst config = computed(() => sizeConfig[currentSize.value])\n\nconst centerX = computed(() => config.value.width / 2)\nconst centerY = computed(() => config.value.radius + config.value.strokeWidth + 5)\nconst needleLength = computed(() => config.value.radius - 8)\nconst needleAngle = computed(() => -90 + (percentage.value * 180) / 100)\n\nfunction createArcPath(startPercent: number, endPercent: number, radius: number): string {\n  const startAngle = (-90 + (startPercent * 180) / 100) * (Math.PI / 180)\n  const endAngle = (-90 + (endPercent * 180) / 100) * (Math.PI / 180)\n\n  const startX = centerX.value + radius * Math.cos(startAngle)\n  const startY = centerY.value + radius * Math.sin(startAngle)\n  const endX = centerX.value + radius * Math.cos(endAngle)\n  const endY = centerY.value + radius * Math.sin(endAngle)\n\n  const largeArcFlag = endPercent - startPercent > 50 ? 1 : 0\n\n  return `M ${startX} ${startY} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${endX} ${endY}`\n}\n\nconst tickPositions = [0, 25, 50, 75, 100]\n\nfunction getTickCoords(tick: number) {\n  const angle = (-90 + (tick * 180) / 100) * (Math.PI / 180)\n  const innerR = config.value.radius - config.value.strokeWidth / 2 - 6\n  const outerR = config.value.radius + config.value.strokeWidth / 2 + 6\n  return {\n    x1: centerX.value + innerR * Math.cos(angle),\n    y1: centerY.value + innerR * Math.sin(angle),\n    x2: centerX.value + outerR * Math.cos(angle),\n    y2: centerY.value + outerR * Math.sin(angle),\n  }\n}\n</script>\n\n<template>\n  <div :class=\"cn(gaugeChartVariants({ size }), props.class)\">\n    <svg\n      :width=\"config.width\"\n      :height=\"config.height\"\n      :viewBox=\"`0 0 ${config.width} ${config.height}`\"\n    >\n      <!-- Background track -->\n      <path\n        :d=\"createArcPath(0, 100, config.radius)\"\n        fill=\"none\"\n        stroke=\"hsl(var(--muted))\"\n        :stroke-width=\"config.strokeWidth\"\n        stroke-linecap=\"round\"\n      />\n\n      <!-- Zone arcs -->\n      <path\n        v-for=\"(zone, index) in zones\"\n        :key=\"index\"\n        :d=\"createArcPath(zone.from, zone.to, config.radius)\"\n        fill=\"none\"\n        :stroke=\"zone.color\"\n        :stroke-width=\"config.strokeWidth\"\n        stroke-linecap=\"butt\"\n        class=\"transition-all duration-300\"\n      />\n\n      <!-- Outer border -->\n      <path\n        :d=\"createArcPath(0, 100, config.radius + config.strokeWidth / 2 + 2)\"\n        fill=\"none\"\n        stroke=\"hsl(var(--foreground))\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n      />\n\n      <!-- Inner border -->\n      <path\n        :d=\"createArcPath(0, 100, config.radius - config.strokeWidth / 2 - 2)\"\n        fill=\"none\"\n        stroke=\"hsl(var(--foreground))\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n      />\n\n      <!-- Tick marks -->\n      <template v-if=\"showTicks\">\n        <line\n          v-for=\"tick in tickPositions\"\n          :key=\"tick\"\n          :x1=\"getTickCoords(tick).x1\"\n          :y1=\"getTickCoords(tick).y1\"\n          :x2=\"getTickCoords(tick).x2\"\n          :y2=\"getTickCoords(tick).y2\"\n          stroke=\"hsl(var(--foreground))\"\n          stroke-width=\"2\"\n        />\n      </template>\n\n      <!-- Needle -->\n      <g\n        :style=\"{\n          transform: `rotate(${needleAngle}deg)`,\n          transformOrigin: `${centerX}px ${centerY}px`,\n          transition: animated ? 'transform 0.5s ease-out' : 'none',\n        }\"\n      >\n        <!-- Needle shadow -->\n        <line\n          :x1=\"centerX + 2\"\n          :y1=\"centerY + 2\"\n          :x2=\"centerX + needleLength + 2\"\n          :y2=\"centerY + 2\"\n          stroke=\"hsl(var(--shadow-color))\"\n          stroke-width=\"3\"\n          stroke-linecap=\"round\"\n        />\n        <!-- Needle body -->\n        <line\n          :x1=\"centerX\"\n          :y1=\"centerY\"\n          :x2=\"centerX + needleLength\"\n          :y2=\"centerY\"\n          stroke=\"hsl(var(--foreground))\"\n          stroke-width=\"3\"\n          stroke-linecap=\"round\"\n        />\n        <!-- Needle tip -->\n        <circle\n          :cx=\"centerX + needleLength\"\n          :cy=\"centerY\"\n          r=\"3\"\n          fill=\"hsl(var(--primary))\"\n          stroke=\"hsl(var(--foreground))\"\n          stroke-width=\"1.5\"\n        />\n      </g>\n\n      <!-- Center pivot -->\n      <circle\n        :cx=\"centerX\"\n        :cy=\"centerY\"\n        r=\"6\"\n        fill=\"hsl(var(--foreground))\"\n      />\n      <circle\n        :cx=\"centerX\"\n        :cy=\"centerY\"\n        r=\"3\"\n        fill=\"hsl(var(--background))\"\n      />\n\n      <!-- Value display -->\n      <text\n        :x=\"centerX\"\n        :y=\"centerY + 20\"\n        text-anchor=\"middle\"\n        fill=\"hsl(var(--foreground))\"\n        font-weight=\"900\"\n        :font-size=\"config.fontSize\"\n        font-family=\"ui-monospace, monospace\"\n      >\n        {{ valueFormatter(normalizedValue) }}\n      </text>\n\n      <!-- Label -->\n      <text\n        v-if=\"label\"\n        :x=\"centerX\"\n        :y=\"centerY + 20 + config.fontSize\"\n        text-anchor=\"middle\"\n        fill=\"hsl(var(--muted-foreground))\"\n        font-weight=\"700\"\n        :font-size=\"config.labelSize\"\n        style=\"text-transform: uppercase; letter-spacing: 0.05em\"\n      >\n        {{ label }}\n      </text>\n\n      <!-- Min/Max labels -->\n      <text\n        :x=\"centerX - config.radius - 8\"\n        :y=\"centerY + 4\"\n        text-anchor=\"end\"\n        fill=\"hsl(var(--muted-foreground))\"\n        font-weight=\"600\"\n        :font-size=\"config.labelSize\"\n      >\n        {{ min }}\n      </text>\n      <text\n        :x=\"centerX + config.radius + 8\"\n        :y=\"centerY + 4\"\n        text-anchor=\"start\"\n        fill=\"hsl(var(--muted-foreground))\"\n        font-weight=\"600\"\n        :font-size=\"config.labelSize\"\n      >\n        {{ max }}\n      </text>\n    </svg>\n  </div>\n</template>\n",
      "type": "registry:ui",
      "target": "components/ui/GaugeChart.vue"
    }
  ]
}
