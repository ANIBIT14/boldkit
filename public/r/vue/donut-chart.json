{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "donut-chart",
  "type": "registry:ui",
  "description": "A donut/pie chart component with neubrutalism styling and center content slot",
  "dependencies": [
    "vue-echarts",
    "echarts",
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils",
    "chart-utils"
  ],
  "files": [
    {
      "path": "registry/default/ui/DonutChart.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { use } from 'echarts/core'\nimport { CanvasRenderer } from 'echarts/renderers'\nimport { PieChart } from 'echarts/charts'\nimport { TooltipComponent, LegendComponent } from 'echarts/components'\nimport VChart from 'vue-echarts'\nimport { cn } from '@/lib/utils'\nimport { neubrutalismTheme, type ChartConfig } from './chart-utils'\nimport { chartContainerVariants } from './chart-variants'\nimport type { VariantProps } from 'class-variance-authority'\n\n// Register ECharts components\nuse([CanvasRenderer, PieChart, TooltipComponent, LegendComponent])\n\ntype ChartVariants = VariantProps<typeof chartContainerVariants>\n\ninterface DonutChartData {\n  name: string\n  value: number\n  fill?: string\n}\n\ninterface DonutChartProps {\n  data: DonutChartData[]\n  config: ChartConfig\n  innerRadius?: string\n  outerRadius?: string\n  showLabels?: 'none' | 'inside' | 'outside'\n  showLegend?: boolean\n  height?: string\n  variant?: ChartVariants['variant']\n  class?: string\n}\n\nconst props = withDefaults(defineProps<DonutChartProps>(), {\n  innerRadius: '60%',\n  outerRadius: '80%',\n  showLabels: 'none',\n  showLegend: false,\n  height: '300px',\n  variant: 'default',\n})\n\nconst option = computed(() => ({\n  tooltip: {\n    trigger: 'item',\n    formatter: '{b}: {c} ({d}%)',\n  },\n  legend: props.showLegend ? {\n    orient: 'horizontal',\n    bottom: 0,\n    textStyle: {\n      fontWeight: 'bold',\n    },\n  } : undefined,\n  series: [{\n    type: 'pie',\n    radius: [props.innerRadius, props.outerRadius],\n    center: ['50%', '50%'],\n    avoidLabelOverlap: true,\n    itemStyle: {\n      borderColor: 'hsl(var(--foreground))',\n      borderWidth: 3,\n    },\n    label: props.showLabels === 'none' ? { show: false } : {\n      show: true,\n      position: props.showLabels,\n      fontWeight: 'bold',\n      formatter: '{b}',\n    },\n    labelLine: {\n      show: props.showLabels === 'outside',\n    },\n    data: props.data.map(item => ({\n      name: item.name,\n      value: item.value,\n      itemStyle: item.fill ? { color: item.fill } : undefined,\n    })),\n  }],\n}))\n</script>\n\n<template>\n  <div\n    data-slot=\"chart\"\n    :class=\"cn(chartContainerVariants({ variant }), props.class)\"\n  >\n    <div class=\"relative\" :style=\"{ height }\">\n      <VChart\n        :option=\"option\"\n        :theme=\"neubrutalismTheme\"\n        :autoresize=\"true\"\n        style=\"width: 100%; height: 100%\"\n      />\n      <!-- Center content slot -->\n      <div\n        v-if=\"$slots.default\"\n        class=\"absolute inset-0 flex items-center justify-center pointer-events-none\"\n      >\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n",
      "type": "registry:ui",
      "target": "components/ui/DonutChart.vue"
    },
    {
      "path": "registry/default/ui/chart-utils.ts",
      "content": "import type { Component } from 'vue'\n\n// Neubrutalism color palettes for charts\nexport const CHART_PALETTES = {\n  bold: [\n    'hsl(var(--primary))',\n    'hsl(var(--secondary))',\n    'hsl(var(--accent))',\n    'hsl(var(--success))',\n    'hsl(var(--warning))',\n    'hsl(var(--info))',\n  ],\n  vibrant: [\n    'hsl(0 84% 60%)',      // Coral red\n    'hsl(174 62% 50%)',    // Teal\n    'hsl(49 100% 60%)',    // Yellow\n    'hsl(280 65% 60%)',    // Purple\n    'hsl(145 63% 49%)',    // Green\n    'hsl(212 100% 60%)',   // Blue\n  ],\n  pastel: [\n    'hsl(0 84% 75%)',      // Light coral\n    'hsl(174 62% 70%)',    // Light teal\n    'hsl(49 100% 75%)',    // Light yellow\n    'hsl(280 65% 75%)',    // Light purple\n    'hsl(145 63% 70%)',    // Light green\n    'hsl(212 100% 75%)',   // Light blue\n  ],\n  monochrome: [\n    'hsl(var(--foreground))',\n    'hsl(var(--foreground) / 0.8)',\n    'hsl(var(--foreground) / 0.6)',\n    'hsl(var(--foreground) / 0.4)',\n    'hsl(var(--foreground) / 0.2)',\n    'hsl(var(--foreground) / 0.1)',\n  ],\n} as const\n\nexport type ChartPalette = keyof typeof CHART_PALETTES\n\n// Helper to get colors from a palette\nexport function getChartColor(palette: ChartPalette, index: number): string {\n  const colors = CHART_PALETTES[palette]\n  return colors[index % colors.length]\n}\n\n// Chart config type\nexport type ChartConfig = {\n  [k in string]: {\n    label?: string\n    icon?: Component\n    color?: string\n  }\n}\n\n// Generate ChartConfig from palette\nexport function createChartConfig(\n  keys: string[],\n  labels: string[],\n  palette: ChartPalette = 'bold'\n): ChartConfig {\n  const config: ChartConfig = {}\n  keys.forEach((key, index) => {\n    config[key] = {\n      label: labels[index] || key,\n      color: getChartColor(palette, index),\n    }\n  })\n  return config\n}\n\n// Neubrutalism ECharts theme\nexport const neubrutalismTheme = {\n  color: CHART_PALETTES.bold,\n  backgroundColor: 'transparent',\n  textStyle: {\n    fontFamily: 'inherit',\n    fontWeight: 'bold',\n  },\n  title: {\n    textStyle: {\n      fontWeight: 'bold',\n      fontSize: 16,\n    },\n  },\n  legend: {\n    textStyle: {\n      fontWeight: 'bold',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    backgroundColor: 'hsl(var(--background))',\n    borderColor: 'hsl(var(--foreground))',\n    borderWidth: 3,\n    textStyle: {\n      fontWeight: 'bold',\n      color: 'hsl(var(--foreground))',\n    },\n    extraCssText: 'box-shadow: 4px 4px 0px hsl(var(--shadow-color));',\n  },\n  xAxis: {\n    axisLine: {\n      lineStyle: {\n        color: 'hsl(var(--foreground))',\n        width: 3,\n      },\n    },\n    axisTick: {\n      lineStyle: {\n        color: 'hsl(var(--foreground))',\n        width: 2,\n      },\n    },\n    axisLabel: {\n      fontWeight: 'bold',\n      color: 'hsl(var(--foreground))',\n    },\n    splitLine: {\n      lineStyle: {\n        color: 'hsl(var(--muted-foreground) / 0.3)',\n      },\n    },\n  },\n  yAxis: {\n    axisLine: {\n      lineStyle: {\n        color: 'hsl(var(--foreground))',\n        width: 3,\n      },\n    },\n    axisTick: {\n      lineStyle: {\n        color: 'hsl(var(--foreground))',\n        width: 2,\n      },\n    },\n    axisLabel: {\n      fontWeight: 'bold',\n      color: 'hsl(var(--foreground))',\n    },\n    splitLine: {\n      lineStyle: {\n        color: 'hsl(var(--muted-foreground) / 0.3)',\n      },\n    },\n  },\n  series: {\n    bar: {\n      itemStyle: {\n        borderColor: 'hsl(var(--foreground))',\n        borderWidth: 3,\n      },\n    },\n    line: {\n      lineStyle: {\n        width: 3,\n      },\n      itemStyle: {\n        borderColor: 'hsl(var(--foreground))',\n        borderWidth: 2,\n      },\n    },\n    pie: {\n      itemStyle: {\n        borderColor: 'hsl(var(--foreground))',\n        borderWidth: 3,\n      },\n    },\n  },\n}\n",
      "type": "registry:ui",
      "target": "components/ui/chart-utils.ts"
    },
    {
      "path": "registry/default/ui/chart-variants.ts",
      "content": "import { cva } from 'class-variance-authority'\n\nexport const chartContainerVariants = cva(\n  'flex aspect-video justify-center text-xs',\n  {\n    variants: {\n      variant: {\n        default: 'border-3 border-foreground bg-background p-4 shadow-[4px_4px_0px_hsl(var(--shadow-color))]',\n        elevated: 'border-3 border-foreground bg-background p-4 shadow-[6px_6px_0px_hsl(var(--shadow-color))] hover:shadow-[8px_8px_0px_hsl(var(--shadow-color))] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all',\n        flat: 'border-3 border-foreground bg-background p-4',\n        filled: 'border-3 border-foreground bg-muted/30 p-4 shadow-[4px_4px_0px_hsl(var(--shadow-color))]',\n        minimal: 'bg-background p-4',\n        accent: 'border-3 border-foreground bg-accent/10 p-4 shadow-[4px_4px_0px_hsl(var(--accent))]',\n        primary: 'border-3 border-foreground bg-primary/10 p-4 shadow-[4px_4px_0px_hsl(var(--primary))]',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n)\n",
      "type": "registry:ui",
      "target": "components/ui/chart-variants.ts"
    }
  ]
}
