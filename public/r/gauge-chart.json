{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "gauge-chart",
  "type": "registry:ui",
  "description": "Speedometer-style gauge with color zones and animated needle - custom SVG implementation",
  "dependencies": [
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "registry/default/ui/gauge-chart.tsx",
      "content": "import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { cn } from '@/lib/utils'\n\nconst gaugeChartVariants = cva(\n  'relative flex items-center justify-center',\n  {\n    variants: {\n      size: {\n        sm: '',\n        md: '',\n        lg: '',\n      },\n      variant: {\n        semicircle: '',\n        full: '',\n        meter: '',\n      },\n    },\n    defaultVariants: {\n      size: 'md',\n      variant: 'semicircle',\n    },\n  }\n)\n\nexport interface GaugeChartZone {\n  from: number\n  to: number\n  color: string\n  label?: string\n}\n\nexport interface GaugeChartProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'color'>,\n    VariantProps<typeof gaugeChartVariants> {\n  value: number\n  min?: number\n  max?: number\n  zones?: GaugeChartZone[]\n  label?: string\n  valueFormatter?: (value: number) => string\n  showTicks?: boolean\n  animated?: boolean\n}\n\nconst DEFAULT_ZONES: GaugeChartZone[] = [\n  { from: 0, to: 33, color: 'hsl(var(--destructive))', label: 'Low' },\n  { from: 33, to: 66, color: 'hsl(var(--warning))', label: 'Medium' },\n  { from: 66, to: 100, color: 'hsl(var(--success))', label: 'High' },\n]\n\nconst GaugeChart = React.forwardRef<HTMLDivElement, GaugeChartProps>(\n  (\n    {\n      value,\n      min = 0,\n      max = 100,\n      zones = DEFAULT_ZONES,\n      label,\n      valueFormatter = (v) => `${v}`,\n      showTicks = true,\n      animated = true,\n      size,\n      variant,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const normalizedValue = Math.max(min, Math.min(max, value))\n    const percentage = ((normalizedValue - min) / (max - min)) * 100\n\n    // SVG dimensions based on size - properly calculated to fit content\n    const sizeConfig = {\n      sm: { width: 140, height: 90, radius: 45, strokeWidth: 10, fontSize: 14, labelSize: 9 },\n      md: { width: 180, height: 115, radius: 58, strokeWidth: 12, fontSize: 18, labelSize: 11 },\n      lg: { width: 240, height: 150, radius: 76, strokeWidth: 14, fontSize: 22, labelSize: 13 },\n    }\n\n    const currentSize = size || 'md'\n    const config = sizeConfig[currentSize]\n\n    const centerX = config.width / 2\n    const centerY = config.radius + config.strokeWidth + 5 // Position center so arc fits\n    const needleLength = config.radius - 8\n\n    // Calculate needle angle (180 degrees for semicircle, from -90 to 90)\n    const needleAngle = -90 + (percentage * 180) / 100\n\n    // Calculate arc paths for zones\n    const createArcPath = (\n      startPercent: number,\n      endPercent: number,\n      radius: number\n    ) => {\n      const startAngle = (-90 + (startPercent * 180) / 100) * (Math.PI / 180)\n      const endAngle = (-90 + (endPercent * 180) / 100) * (Math.PI / 180)\n\n      const startX = centerX + radius * Math.cos(startAngle)\n      const startY = centerY + radius * Math.sin(startAngle)\n      const endX = centerX + radius * Math.cos(endAngle)\n      const endY = centerY + radius * Math.sin(endAngle)\n\n      const largeArcFlag = endPercent - startPercent > 50 ? 1 : 0\n\n      return `M ${startX} ${startY} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${endX} ${endY}`\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(gaugeChartVariants({ size, variant }), className)}\n        {...props}\n      >\n        <svg\n          width={config.width}\n          height={config.height}\n          viewBox={`0 0 ${config.width} ${config.height}`}\n        >\n          {/* Background track */}\n          <path\n            d={createArcPath(0, 100, config.radius)}\n            fill=\"none\"\n            stroke=\"hsl(var(--muted))\"\n            strokeWidth={config.strokeWidth}\n            strokeLinecap=\"round\"\n          />\n\n          {/* Zone arcs */}\n          {zones.map((zone, index) => (\n            <path\n              key={index}\n              d={createArcPath(zone.from, zone.to, config.radius)}\n              fill=\"none\"\n              stroke={zone.color}\n              strokeWidth={config.strokeWidth}\n              strokeLinecap=\"butt\"\n              className=\"transition-all duration-300\"\n            />\n          ))}\n\n          {/* Outer border */}\n          <path\n            d={createArcPath(0, 100, config.radius + config.strokeWidth / 2 + 2)}\n            fill=\"none\"\n            stroke=\"hsl(var(--foreground))\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n          />\n\n          {/* Inner border */}\n          <path\n            d={createArcPath(0, 100, config.radius - config.strokeWidth / 2 - 2)}\n            fill=\"none\"\n            stroke=\"hsl(var(--foreground))\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n          />\n\n          {/* Tick marks */}\n          {showTicks &&\n            [0, 25, 50, 75, 100].map((tick) => {\n              const angle = (-90 + (tick * 180) / 100) * (Math.PI / 180)\n              const innerR = config.radius - config.strokeWidth / 2 - 6\n              const outerR = config.radius + config.strokeWidth / 2 + 6\n              const x1 = centerX + innerR * Math.cos(angle)\n              const y1 = centerY + innerR * Math.sin(angle)\n              const x2 = centerX + outerR * Math.cos(angle)\n              const y2 = centerY + outerR * Math.sin(angle)\n\n              return (\n                <line\n                  key={tick}\n                  x1={x1}\n                  y1={y1}\n                  x2={x2}\n                  y2={y2}\n                  stroke=\"hsl(var(--foreground))\"\n                  strokeWidth=\"2\"\n                />\n              )\n            })}\n\n          {/* Needle */}\n          <g\n            style={{\n              transform: `rotate(${needleAngle}deg)`,\n              transformOrigin: `${centerX}px ${centerY}px`,\n              transition: animated ? 'transform 0.5s ease-out' : 'none',\n            }}\n          >\n            {/* Needle shadow */}\n            <line\n              x1={centerX + 2}\n              y1={centerY + 2}\n              x2={centerX + needleLength + 2}\n              y2={centerY + 2}\n              stroke=\"hsl(var(--shadow-color))\"\n              strokeWidth=\"3\"\n              strokeLinecap=\"round\"\n            />\n            {/* Needle body */}\n            <line\n              x1={centerX}\n              y1={centerY}\n              x2={centerX + needleLength}\n              y2={centerY}\n              stroke=\"hsl(var(--foreground))\"\n              strokeWidth=\"3\"\n              strokeLinecap=\"round\"\n            />\n            {/* Needle tip */}\n            <circle\n              cx={centerX + needleLength}\n              cy={centerY}\n              r=\"3\"\n              fill=\"hsl(var(--primary))\"\n              stroke=\"hsl(var(--foreground))\"\n              strokeWidth=\"1.5\"\n            />\n          </g>\n\n          {/* Center pivot */}\n          <circle\n            cx={centerX}\n            cy={centerY}\n            r=\"6\"\n            fill=\"hsl(var(--foreground))\"\n          />\n          <circle\n            cx={centerX}\n            cy={centerY}\n            r=\"3\"\n            fill=\"hsl(var(--background))\"\n          />\n\n          {/* Value display */}\n          <text\n            x={centerX}\n            y={centerY + 20}\n            textAnchor=\"middle\"\n            fill=\"hsl(var(--foreground))\"\n            fontWeight=\"900\"\n            fontSize={config.fontSize}\n            fontFamily=\"ui-monospace, monospace\"\n          >\n            {valueFormatter(normalizedValue)}\n          </text>\n\n          {/* Label */}\n          {label && (\n            <text\n              x={centerX}\n              y={centerY + 20 + config.fontSize}\n              textAnchor=\"middle\"\n              fill=\"hsl(var(--muted-foreground))\"\n              fontWeight=\"700\"\n              fontSize={config.labelSize}\n              style={{ textTransform: 'uppercase', letterSpacing: '0.05em' }}\n            >\n              {label}\n            </text>\n          )}\n\n          {/* Min/Max labels */}\n          <text\n            x={centerX - config.radius - 8}\n            y={centerY + 4}\n            textAnchor=\"end\"\n            fill=\"hsl(var(--muted-foreground))\"\n            fontWeight=\"600\"\n            fontSize={config.labelSize}\n          >\n            {min}\n          </text>\n          <text\n            x={centerX + config.radius + 8}\n            y={centerY + 4}\n            textAnchor=\"start\"\n            fill=\"hsl(var(--muted-foreground))\"\n            fontWeight=\"600\"\n            fontSize={config.labelSize}\n          >\n            {max}\n          </text>\n        </svg>\n      </div>\n    )\n  }\n)\nGaugeChart.displayName = 'GaugeChart'\n\nexport { GaugeChart, gaugeChartVariants }\n",
      "type": "registry:ui",
      "target": "components/ui/chart/gauge-chart.tsx"
    }
  ]
}