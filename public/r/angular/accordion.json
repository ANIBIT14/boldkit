{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "accordion",
  "type": "registry:ui",
  "description": "An expandable accordion component",
  "dependencies": [
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "components/ui/accordion/accordion.component.ts",
      "content": "import { Component, Input, Output, EventEmitter, HostBinding, HostListener, ChangeDetectionStrategy, ContentChildren, QueryList, AfterContentInit, forwardRef } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { cn } from '../../../lib/utils'\n\n@Component({\n  selector: 'bk-accordion',\n  standalone: true,\n  imports: [CommonModule],\n  template: `<ng-content></ng-content>`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccordionComponent implements AfterContentInit {\n  @Input() type: 'single' | 'multiple' = 'single'\n  @Input() value: string | string[] = ''\n  @Input() collapsible: boolean = true\n  @Input() class: string = ''\n\n  @Output() valueChange = new EventEmitter<string | string[]>()\n\n  @ContentChildren(forwardRef(() => AccordionItemComponent)) items!: QueryList<AccordionItemComponent>\n\n  @HostBinding('class')\n  get hostClass(): string {\n    return cn('', this.class)\n  }\n\n  ngAfterContentInit(): void {\n    this.updateItems()\n  }\n\n  toggleItem(itemValue: string): void {\n    if (this.type === 'single') {\n      if (this.value === itemValue && this.collapsible) {\n        this.value = ''\n      } else {\n        this.value = itemValue\n      }\n    } else {\n      const values = Array.isArray(this.value) ? [...this.value] : []\n      const index = values.indexOf(itemValue)\n      if (index > -1) {\n        values.splice(index, 1)\n      } else {\n        values.push(itemValue)\n      }\n      this.value = values\n    }\n    this.valueChange.emit(this.value)\n    this.updateItems()\n  }\n\n  isOpen(itemValue: string): boolean {\n    if (this.type === 'single') {\n      return this.value === itemValue\n    }\n    return Array.isArray(this.value) && this.value.includes(itemValue)\n  }\n\n  private updateItems(): void {\n    if (this.items) {\n      this.items.forEach(item => {\n        item.isOpen = this.isOpen(item.value)\n        item.accordion = this\n      })\n    }\n  }\n}\n\n@Component({\n  selector: 'bk-accordion-item',\n  standalone: true,\n  imports: [CommonModule],\n  template: `<ng-content></ng-content>`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccordionItemComponent {\n  @Input() value: string = ''\n  @Input() disabled: boolean = false\n  @Input() class: string = ''\n\n  isOpen: boolean = false\n  accordion: AccordionComponent | null = null\n\n  @HostBinding('class')\n  get hostClass(): string {\n    return cn('border-3 border-foreground border-b-0 last:border-b-3 shadow-[4px_4px_0px_hsl(var(--shadow-color))]', this.class)\n  }\n\n  @HostBinding('attr.data-state')\n  get dataState(): string {\n    return this.isOpen ? 'open' : 'closed'\n  }\n\n  toggle(): void {\n    if (!this.disabled && this.accordion) {\n      this.accordion.toggleItem(this.value)\n    }\n  }\n}\n\n@Component({\n  selector: 'bk-accordion-trigger',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <ng-content></ng-content>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      stroke-width=\"3\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n      [class]=\"chevronClass\">\n      <path d=\"m6 9 6 6 6-6\"/>\n    </svg>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccordionTriggerComponent {\n  @Input() class: string = ''\n\n  item: AccordionItemComponent | null = null\n\n  @HostBinding('class')\n  get hostClass(): string {\n    const isOpen = this.item?.isOpen ?? false\n    return cn(\n      'flex flex-1 items-center justify-between bg-background py-4 px-4 font-bold uppercase tracking-wide transition-all duration-200 hover:bg-muted cursor-pointer w-full',\n      isOpen && 'bg-accent',\n      this.class\n    )\n  }\n\n  get chevronClass(): string {\n    const isOpen = this.item?.isOpen ?? false\n    return cn('shrink-0 transition-transform duration-200', isOpen && 'rotate-180')\n  }\n\n  @HostListener('click')\n  onClick(): void {\n    this.item?.toggle()\n  }\n}\n\n@Component({\n  selector: 'bk-accordion-content',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div *ngIf=\"item?.isOpen\" [class]=\"innerClass\">\n      <ng-content></ng-content>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AccordionContentComponent {\n  @Input() class: string = ''\n\n  item: AccordionItemComponent | null = null\n\n  @HostBinding('class')\n  get hostClass(): string {\n    return cn('overflow-hidden text-sm border-t-3 border-foreground', this.class)\n  }\n\n  @HostBinding('attr.data-state')\n  get dataState(): string {\n    return this.item?.isOpen ? 'open' : 'closed'\n  }\n\n  get innerClass(): string {\n    return cn('p-4', this.class)\n  }\n}\n\nexport const AccordionComponents = [\n  AccordionComponent,\n  AccordionItemComponent,\n  AccordionTriggerComponent,\n  AccordionContentComponent,\n]\n",
      "type": "registry:ui",
      "target": "components/ui/accordion/accordion.component.ts"
    },
    {
      "path": "components/ui/accordion/index.ts",
      "content": "export {\n  AccordionComponent,\n  AccordionItemComponent,\n  AccordionTriggerComponent,\n  AccordionContentComponent,\n  AccordionComponents,\n} from './accordion.component'\n",
      "type": "registry:ui",
      "target": "components/ui/accordion/index.ts"
    }
  ]
}