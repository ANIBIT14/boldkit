{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "donut-chart",
  "type": "registry:ui",
  "description": "Pie chart with center hole for KPI display, supports center content slot",
  "dependencies": [
    "recharts"
  ],
  "registryDependencies": [
    "utils",
    "chart"
  ],
  "files": [
    {
      "path": "registry/default/ui/donut-chart.tsx",
      "content": "import * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { Pie, PieChart, Cell, Label } from 'recharts'\nimport { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from './chart'\n\nexport interface DonutChartData {\n  name: string\n  value: number\n  fill?: string\n}\n\nexport interface DonutChartProps extends React.HTMLAttributes<HTMLDivElement> {\n  data: DonutChartData[]\n  config: ChartConfig\n  innerRadius?: string | number\n  outerRadius?: string | number\n  centerContent?: React.ReactNode\n  showLabels?: 'none' | 'inside' | 'outside'\n  variant?: 'default' | 'separated'\n  showTooltip?: boolean\n  animated?: boolean\n}\n\nconst DonutChart = React.forwardRef<HTMLDivElement, DonutChartProps>(\n  (\n    {\n      data,\n      config,\n      innerRadius = '60%',\n      outerRadius = '80%',\n      centerContent,\n      showLabels = 'none',\n      variant = 'default',\n      showTooltip = true,\n      animated = true,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const paddingAngle = variant === 'separated' ? 4 : 0\n\n    // Calculate total for center content (available for custom center content)\n    const _total = React.useMemo(\n      () => data.reduce((sum, item) => sum + item.value, 0),\n      [data]\n    )\n    void _total // Used by consumer via centerContent prop\n\n    return (\n      <ChartContainer\n        ref={ref}\n        config={config}\n        className={cn('aspect-square max-h-[300px]', className)}\n        {...props}\n      >\n        <PieChart>\n          {showTooltip && (\n            <ChartTooltip\n              cursor={false}\n              content={<ChartTooltipContent hideLabel />}\n            />\n          )}\n          <Pie\n            data={data}\n            dataKey=\"value\"\n            nameKey=\"name\"\n            cx=\"50%\"\n            cy=\"50%\"\n            innerRadius={innerRadius}\n            outerRadius={outerRadius}\n            paddingAngle={paddingAngle}\n            strokeWidth={3}\n            stroke=\"hsl(var(--foreground))\"\n            isAnimationActive={animated}\n            animationDuration={400}\n            label={\n              showLabels === 'outside'\n                ? ({ name, percent }: { name?: string; percent?: number }) => `${name ?? ''}: ${((percent ?? 0) * 100).toFixed(0)}%`\n                : showLabels === 'inside'\n                ? ({ percent }: { percent?: number }) => `${((percent ?? 0) * 100).toFixed(0)}%`\n                : false\n            }\n            labelLine={showLabels === 'outside'}\n          >\n            {data.map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={entry.fill || `hsl(var(--chart-${(index % 5) + 1}))`}\n              />\n            ))}\n            {centerContent && (\n              <Label\n                content={({ viewBox }) => {\n                  if (viewBox && 'cx' in viewBox && 'cy' in viewBox) {\n                    return (\n                      <foreignObject\n                        x={(viewBox.cx || 0) - 50}\n                        y={(viewBox.cy || 0) - 30}\n                        width={100}\n                        height={60}\n                      >\n                        <div className=\"flex h-full w-full items-center justify-center\">\n                          {centerContent}\n                        </div>\n                      </foreignObject>\n                    )\n                  }\n                  return null\n                }}\n              />\n            )}\n          </Pie>\n        </PieChart>\n      </ChartContainer>\n    )\n  }\n)\nDonutChart.displayName = 'DonutChart'\n\n// Helper component for common center content pattern\nexport interface DonutChartCenterProps {\n  value: string | number\n  label?: string\n  className?: string\n}\n\nconst DonutChartCenter = React.forwardRef<HTMLDivElement, DonutChartCenterProps>(\n  ({ value, label, className }, ref) => {\n    return (\n      <div ref={ref} className={cn('text-center', className)}>\n        <div className=\"text-2xl font-black\">{value}</div>\n        {label && (\n          <div className=\"text-xs font-bold uppercase tracking-wide text-muted-foreground\">\n            {label}\n          </div>\n        )}\n      </div>\n    )\n  }\n)\nDonutChartCenter.displayName = 'DonutChartCenter'\n\nexport { DonutChart, DonutChartCenter }\n",
      "type": "registry:ui",
      "target": "components/ui/chart/donut-chart.tsx"
    }
  ]
}